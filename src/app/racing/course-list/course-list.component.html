<ng-container *ngIf="courses$ | async as courses; else loading">

  <!-- static content, always shown after load -->
  <div class="card content">
    <form [formGroup]="form">
      <div class="p-fluid p-formgrid p-grid">
        <div class="p-field p-col-1">
          <p-dropdown
            inputId="game"
            formControlName="gameCode"
            [options]="game.values"
            optionLabel="textEN"
            optionValue="lookupValue"
            optionDisabled="disabled">
          </p-dropdown>
        </div>
        <div class="p-field p-col-11 p-md-10">
          <!-- ToDo: NGprime hat ein Search Control-->
          <input
            id="search"
            formControlName="searchTerm"
            type="text" pInputText
            (keyup)="searchHandler()">
        </div>
        <div class="p-field p-col-11 p-md-1">
          <!-- todo: unten/rechts vom searchTerm platzieren, neues div/formgrid?-->
          <p-button
            type="button"
            label="New"
            [routerLink]="['/routes/add']">
          </p-button>
        </div>
      </div>
    </form>
  </div>

  <!-- content shown if data is present -->
  <ng-container *ngIf="courses.length>0">
    <h5>Table / Static Title</h5>
    <ul *ngFor="let course of courses">
      <li><a [routerLink]="['routes', course.id]">{{ course.name }}</a></li>
    </ul>
  </ng-container>

  <!-- content shown if no data is present (no error) -->
  <p *ngIf="courses.length==0 && errorMsg ==''">No Data</p>


  <!-- content shown if there was an error -->
  <p *ngIf="errorMsg!=''">{{errorMsg}}</p>

</ng-container>

<ng-template #loading>
  <!-- global css class-->
  <p-progressSpinner [style]="{width: '50px', height: '50px'}"></p-progressSpinner>
</ng-template>
